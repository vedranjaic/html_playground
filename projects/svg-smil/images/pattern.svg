<svg
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   id="chapter2-Shapes"
   version="1.1"
   baseProfile="full"
   width="800" height="600" 
   viewBox="0 0 400 300" preserveAspectRatio="none"
>
  <defs>
    <!-- Common page elements -->
    <marker id="tick" viewBox="-10 -5 10 10" markerUnits="strokeWidth"
			markerWidth="10" markerHeight="10" orient="auto">
			<path d="M0 -2 L0 2" stroke='rgb(0,0,0)'/>
		</marker>
		<marker id="endArrow" viewBox="-10 -5 10 10" markerUnits="strokeWidth"
			markerWidth="10" markerHeight="10" orient="auto">
			<path d="M-10 -2 L0 0 L-10 2 z" fill='rgb(0,0,0)' stroke='none'/>
		</marker>
    <circle id="node" r="2" stroke-width='0.6' fill='rgb(255,255,255)'/>
		<path id="arrow" d="M0 0 L-10 -2 L-10 2 z"
			 stroke='none'/>
		<circle id="node" r="2" stroke-width='0.6' fill='rgb(255,255,255)'/>
    <g id="coords" stroke='rgb(0,0,0)'>
			<path d="M15 0 L0 0 L0 15" fill='none' stroke-width='0.5'/>
			<use xlink:href="#arrow" transform="translate(20 0) scale(0.5)"/>
			<use xlink:href="#arrow" transform="translate(0 20) rotate(90) scale(0.5)"/>
			<circle r="1" stroke-width='0.2' fill='rgb(255,255,255)'/>
		</g>
    <pattern id="gridPattern" width="10" height="10" patternUnits="userSpaceOnUse">
			<path d="M10 0 L0 0 L0 10" fill='none' stroke='rgb(128,128,128)' stroke-width='0.25'/>
		</pattern>
  </defs>
  <g id="layer1">
    <!-- grid -->    
    <rect id="grid" width="100%" height="100%" x="0" y="0"
       stroke='rgb(128,128,128)' stroke-width='0.25' fill='url(#gridPattern)'/>
    <!-- grid effects -->
    <use xlink:href="#coords"/>
    <text x="3" y="9" font-size='8'>(0,0)</text>

    <!-- example -->
    <g transform="translate(50, 50)">
      <!-- Draw the lines. -->
      <line stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="4" stroke-opacity="0.4" stroke-dasharray="1, 6" stroke-dashoffset="0"
         x1="90" y1="10" x2="10" y2="90"
         id="patternLine1" />
         
      <!-- Reuse the first line, rotate it 90 degrees, and update the style attributes. -->
      <!-- For appendix or wiki - note that currently most browsers do not support styling of Use elements using either CSS or SVG attributes -->
      <use stroke-opacity="1"
       transform="rotate(90, 50, 50)"
         xlink:href="#patternLine1"
         id="patternLine2" />
      
      <!-- Draw the ellipse. -->
      <ellipse fill="#a1d9ad" fill-opacity="0.7" fill-rule="nonzero" stroke="#32287d" stroke-width="1" stroke-opacity="0.5"
         id="path3389"
         cx="50" cy="50" rx="30" ry="20" />
      
      <!-- Draw the upper-right rectangle. -->
      <rect fill="#ada1d9" fill-opacity="1" fill-rule="nonzero" stroke="#32287d" stroke-width="10" stroke-linecap="butt" stroke-linejoin="bevel" stroke-miterlimit="4" stroke-opacity="0.4"
         id="patternRect-upperRight"
         width="20"
         height="20"
         x="90"
         y="-10" />

      <!-- Reuse the first rectangle element and rotate it 90 degrees each time. -->
      <use transform="rotate(90, 50, 50)"
         xlink:href="#patternRect-upperRight"
         id="patternRect-lowerRight" />
      <use transform="rotate(180, 50, 50)"
         xlink:href="#patternRect-upperRight"
         id="patternRect-lowerLeft" />
      <use transform="rotate(270, 50, 50)"
         xlink:href="#patternRect-upperRight"
         id="patternRect-upperLeft" />
         
      <!-- Draw the circle. --> 
      <circle fill="#d9d2a1" fill-opacity="1" fill-rule="nonzero" stroke="#32287d" stroke-width="1" stroke-linecap="butt" stroke-linejoin="bevel" stroke-miterlimit="4"
         id="path3395"
         cx="50" cy="50" r="10" />
      
      <!-- Draw the path using "relative"coordinates via lower-case path commands.  Note that we can easily switch to using the Polyline element by changing the "d" attribute to "points". -->
      <path fill="none" stroke="#000000" stroke-width="1px" stroke-linecap="butt" stroke-linejoin="miter" stroke-opacity="1"
         d="m 0,50 10,0 0,20 20,20 0,0 0,0 20,0 0,10"
         id="patternPath-lowerLeft" />
      
      <!-- Reuse the first path, rotate it 90 more degrees for each of the four corners. -->
      <use
       transform="rotate(90, 50, 50)"
         xlink:href="#patternPath-lowerLeft"
         id="patternPath-upperLeft" />
      <use
       transform="rotate(180, 50, 50)"
         xlink:href="#patternPath-lowerLeft"
         id="patternPath-upperRight" />
      <use
       transform="rotate(270, 50, 50)"
         xlink:href="#patternPath-lowerLeft"
         id="patternPath-lowerRight" />
    </g>
  </g>
</svg>
